#! /usr/bin/env ruby

$LOAD_PATH.unshift(File.expand_path("../lib", File.dirname(__FILE__)))

require 'optparse'
require 'esvg'

options = {}

OptionParser.new do |opts|
  opts.on("-s", "--stylesheet", "Embed SVGs in Sass file") do
    options[:stylesheet_embed] = true
  end

  opts.on("-c", "--config PATH", String, "Path to a config file (default: esvg.yml or config/esvg.yml)") do |path|
    options[:config_file] = path
  end

  opts.on("-o", "--output PATH", String, "Where should SCSS/HTML files be written, (default: current directory)") do |path|
    options[:output_path] = path
  end
end.parse!

options[:path] = ARGV.shift

esvg = Esvg::SVG.new(options)

if options[:stylesheet_embed]
  esvg.write_stylesheet
else
  esvg.write_html
end
